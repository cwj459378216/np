<div>
    <div class="flex flex-col gap-2.5 xl:flex-row">
        <div class="panel flex-1 px-0 py-6 ltr:xl:mr-6 rtl:xl:ml-6">
            <!-- Gridster布局 -->
            <gridster [options]="options" class="h-[800px]">
                <gridster-item 
                    *ngFor="let item of dashboard; trackBy: trackByFn"
                    [item]="item"
                >
                    <div class="flex flex-col h-full w-full bg-white p-4 dark:bg-[#1b2e4b]">
                        <div class="flex justify-end mb-2">
                            <button class="hover:text-danger" (click)="removeWidget(item)">
                                <icon-x class="h-5 w-5" />
                            </button>
                        </div>
                        <div class="flex-1 gridster-item-content">
                            <div *ngIf="item['type'] === 'chart'" class="w-full h-full">
                                <div [id]="'chart_' + item.uniqueId" 
                                     echarts 
                                     [options]="item['chartConfig']"
                                     (chartInit)="onChartInit($event, item)"
                                     class="w-full h-full">
                                </div>
                            </div>
                        </div>
                    </div>
                </gridster-item>
            </gridster>
        </div>

        <!-- 右侧设置面板 -->
        <div class="mt-6 w-full xl:mt-0 xl:w-96">
            <div class="panel mb-5">
                <div>
                    <label for="currency">Currency</label>
                    <select id="currency" class="form-select" [(ngModel)]="selectedCurrency">
                        <ng-container *ngFor="let currency of currencyList">
                            <option [value]="currency">{{ currency }}</option>
                        </ng-container>
                    </select>
                </div>
                <div class="mt-4">
                    <div class="grid grid-cols-1 gap-4 sm:grid-cols-2">
                        <div>
                            <label for="tax">Tax(%) </label>
                            <input id="tax" type="number" class="form-input" placeholder="Tax" [(ngModel)]="tax" />
                        </div>
                        <div>
                            <label for="discount">Discount(%) </label>
                            <input
                                id="discount"
                                type="number"
                                class="form-input"
                                placeholder="Discount"
                                [(ngModel)]="discount"
                            />
                        </div>
                    </div>
                </div>
                <div class="mt-4">
                    <div>
                        <label for="shipping-charge">Shipping Charge($) </label>
                        <input
                            id="shipping-charge"
                            type="number"
                            class="form-input"
                            placeholder="Shipping Charge"
                            [(ngModel)]="shippingCharge"
                        />
                    </div>
                </div>
                <div class="mt-4">
                    <label for="payment-method">Payment Method</label>
                    <select id="payment-method" class="form-select" [(ngModel)]="paymentMethod">
                        <option value="">Select Payment</option>
                        <option value="bank">Bank Account</option>
                        <option value="paypal">Paypal</option>
                        <option value="upi">UPI Transfer</option>
                    </select>
                </div>
            </div>

            <!-- 操作按钮 -->
            <div class="panel">
                <div class="grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-1">
                    <button type="button" class="btn btn-success w-full gap-2">
                        <icon-save class="shrink-0 ltr:mr-2 rtl:ml-2" />
                        Save
                    </button>

                    <button type="button" class="btn btn-info w-full gap-2">
                        <icon-send class="shrink-0 ltr:mr-2 rtl:ml-2" />
                        Send Template
                    </button>

                    <a routerLink="/report/template/preview" class="btn btn-primary w-full gap-2">
                        <icon-eye class="shrink-0 ltr:mr-2 rtl:ml-2" />
                        Preview
                    </a>

                    <button type="button" class="btn btn-secondary w-full gap-2">
                        <icon-download class="shrink-0 ltr:mr-2 rtl:ml-2" />
                        Download
                    </button>
                </div>
            </div>
        </div>
    </div>
</div> 